# ูุดุฑูุน 24 - ุญู ุงูุฒูุฑุงุก | Backend API

## ๐ ุงูุฅุนุฏุงุฏ ูุงูุชุดุบูู

### ุงููุชุทูุจุงุช
- Node.js (v18 ุฃู ุฃุญุฏุซ)
- MongoDB (ูุญูู ุฃู ุณุญุงุจู)
- npm ุฃู yarn

### ุฎุทูุงุช ุงูุชุซุจูุช

1. **ุชุซุจูุช ุงูููุชุจุงุช**
```bash
npm install
```

2. **ุฅุนุฏุงุฏ ูุชุบูุฑุงุช ุงูุจูุฆุฉ**
ุฃูุดุฆ ููู `.env` ูู ูุฌูุฏ `backend` ูุน ุงููุญุชูู ุงูุชุงูู:
```env
NODE_ENV=development
PORT=5000
MONGODB_URI=mongodb://localhost:27017/jeddah-real-estate-db
JWT_SECRET=jeddah_real_estate_super_secret_key_2024_project24
JWT_EXPIRES_IN=7d
JWT_REFRESH_EXPIRES_IN=30d
```

3. **ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช**
```bash
npm run setup
```
ูุฐุง ุงูุฃูุฑ ุณููุดุฆ:
- ูุณุชุฎุฏู super admin (admin@project24.com / admin123)
- ุถูุงูุงุช ุชุฌุฑูุจูุฉ (6 ุถูุงูุงุช)
- ูููุฒุงุช ุชุฌุฑูุจูุฉ (5 ูููุฒุงุช)

4. **ุชุดุบูู ุงูุฎุงุฏู**
```bash
# ููุชุทููุฑ
npm run dev

# ููุฅูุชุงุฌ
npm start
```

## ๐ API Endpoints

### ุงููุตุงุฏูุฉ
- `POST /api/auth/login` - ุชุณุฌูู ุงูุฏุฎูู
- `POST /api/auth/logout` - ุชุณุฌูู ุงูุฎุฑูุฌ
- `POST /api/auth/refresh` - ุชุฌุฏูุฏ ุงูุชููู
- `GET /api/auth/profile` - ุงูููู ุงูุดุฎุตู

### ุงูุดูู
- `GET /api/apartments` - ุฌูุจ ุฌููุน ุงูุดูู
- `GET /api/apartments/:id` - ุฌูุจ ุดูุฉ ูุญุฏุฏุฉ
- `POST /api/apartments` - ุฅูุดุงุก ุดูุฉ ุฌุฏูุฏุฉ
- `PUT /api/apartments/:id` - ุชุนุฏูู ุดูุฉ
- `DELETE /api/apartments/:id` - ุญุฐู ุดูุฉ

### ุงููุณุงุฆุท
- `GET /api/media` - ุฌูุจ ุฌููุน ุงููุณุงุฆุท
- `GET /api/media/:id` - ุฌูุจ ูุณุงุฆุท ูุญุฏุฏุฉ
- `POST /api/media/upload` - ุฑูุน ููู ูุงุญุฏ
- `POST /api/media/upload-multiple` - ุฑูุน ูููุงุช ูุชุนุฏุฏุฉ
- `PUT /api/media/:id` - ุชุนุฏูู ูุณุงุฆุท
- `DELETE /api/media/:id` - ุญุฐู ูุณุงุฆุท

### ุงููููุฒุงุช
- `GET /api/project/features` - ุฌูุจ ุฌููุน ุงููููุฒุงุช
- `GET /api/project/features/:id` - ุฌูุจ ููุฒุฉ ูุญุฏุฏุฉ
- `POST /api/project/features` - ุฅูุดุงุก ููุฒุฉ ุฌุฏูุฏุฉ
- `PUT /api/project/features/:id` - ุชุนุฏูู ููุฒุฉ
- `DELETE /api/project/features/:id` - ุญุฐู ููุฒุฉ

### ุงูุถูุงูุงุช
- `GET /api/project/warranties` - ุฌูุจ ุฌููุน ุงูุถูุงูุงุช
- `GET /api/project/warranties/:id` - ุฌูุจ ุถูุงู ูุญุฏุฏ
- `POST /api/project/warranties` - ุฅูุดุงุก ุถูุงู ุฌุฏูุฏ
- `PUT /api/project/warranties/:id` - ุชุนุฏูู ุถูุงู
- `DELETE /api/project/warranties/:id` - ุญุฐู ุถูุงู

### ูุนูููุงุช ุงููุดุฑูุน
- `GET /api/project/info` - ุฌูุจ ูุนูููุงุช ุงููุดุฑูุน
- `PUT /api/project/info` - ุชุนุฏูู ูุนูููุงุช ุงููุดุฑูุน
- `GET /api/project/stats` - ุฅุญุตุงุฆูุงุช ุงููุดุฑูุน

## ๐ ุงูุตูุงุญูุงุช

### ุงูุฃุฏูุงุฑ
- `super_admin` - ูุฏูุฑ ุงููุธุงู (ุฌููุน ุงูุตูุงุญูุงุช)
- `admin` - ูุฏูุฑ (ุฌููุน ุงูุตูุงุญูุงุช ุนุฏุง ุฅุฏุงุฑุฉ ุงููุฏูุฑูู)
- `editor` - ูุญุฑุฑ (ุตูุงุญูุงุช ูุญุฏูุฏุฉ)

### ุงูุตูุงุญูุงุช ุงููุชุงุญุฉ
- `manage_apartments` - ุฅุฏุงุฑุฉ ุงูุดูู
- `manage_media` - ุฅุฏุงุฑุฉ ุงููุณุงุฆุท
- `manage_features` - ุฅุฏุงุฑุฉ ุงููููุฒุงุช
- `manage_warranties` - ุฅุฏุงุฑุฉ ุงูุถูุงูุงุช
- `manage_project_info` - ุฅุฏุงุฑุฉ ูุนูููุงุช ุงููุดุฑูุน
- `manage_admins` - ุฅุฏุงุฑุฉ ุงููุฏูุฑูู
- `view_analytics` - ุนุฑุถ ุงูุชุญูููุงุช
- `manage_inquiries` - ุฅุฏุงุฑุฉ ุงูุงุณุชูุณุงุฑุงุช

## ๐๏ธ ุงูุชุทููุฑ

### ูููู ุงููุฌูุฏุงุช
```
backend/
โโโ config/          # ุฅุนุฏุงุฏุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุงูุฎุฏูุงุช
โโโ controllers/     # ููุทู ุงูุนูููุงุช
โโโ middleware/      # ูุณุทุงุก ุงูุนูููุงุช
โโโ models/          # ููุงุฐุฌ ูุงุนุฏุฉ ุงูุจูุงูุงุช
โโโ routes/          # ูุณุงุฑุงุช API
โโโ scripts/         # ุณูุฑูุจุชุณ ุงูุฅุนุฏุงุฏ
โโโ uploads/         # ูููุงุช ูุฑููุนุฉ (ุชุทููุฑ)
โโโ server.js        # ููู ุงูุฎุงุฏู ุงูุฑุฆูุณู
```

### ุงูุฃูุงูุฑ ุงููุชุงุญุฉ
```bash
npm run dev      # ุชุดุบูู ุงูุฎุงุฏู ููุชุทููุฑ
npm start        # ุชุดุบูู ุงูุฎุงุฏู ููุฅูุชุงุฌ
npm run setup    # ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช
npm run seed     # ุฅุฏุฑุงุฌ ุจูุงูุงุช ุชุฌุฑูุจูุฉ
```

## ๐ ุงุฎุชุจุงุฑ API

ููููู ุงุฎุชุจุงุฑ API ุจุงุณุชุฎุฏุงู:
- Postman
- Thunder Client (VS Code)
- Insomnia

### ูุซุงู ุนูู ุทูุจ ุชุณุฌูู ุงูุฏุฎูู
```bash
curl -X POST http://localhost:5000/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{
    "email": "admin@project24.com",
    "password": "admin123"
  }'
```

## ๐ ููุงุญุธุงุช

1. **ุงูุฃูุงู**: ุชุฃูุฏ ูู ุชุบููุฑ JWT_SECRET ูู ุงูุฅูุชุงุฌ
2. **ูุงุนุฏุฉ ุงูุจูุงูุงุช**: ุงุณุชุฎุฏู MongoDB Atlas ููุฅูุชุงุฌ
3. **ุฑูุน ุงููููุงุช**: ุงุณุชุฎุฏู Cloudinary ููุฅูุชุงุฌ
4. **ุงููุฑุงูุจุฉ**: ุฃุถู ุฃุฏูุงุช ูุฑุงูุจุฉ ููุฅูุชุงุฌ

## ๐ ุงููุดุงูู ุงูุดุงุฆุนุฉ

### ุฎุทุฃ ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช
ุชุฃูุฏ ูู ุชุดุบูู MongoDB ูุตุญุฉ MONGODB_URI

### ุฎุทุฃ CORS
ุชุฃูุฏ ูู ุฅุนุฏุงุฏ CORS ุจุดูู ุตุญูุญ ูููุฑููุช ุฅูุฏ

### ุฎุทุฃ ุฑูุน ุงููููุงุช
ุชุญูู ูู ุตูุงุญูุงุช ูุฌูุฏ uploads ูุญุฌู ุงููููุงุช
